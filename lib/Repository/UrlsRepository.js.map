{"version":3,"sources":["../../src/Repository/UrlsRepository.js"],"names":["UrlsRepository","constructor","args","findAll","urlsFile","output","filename","getSiteName","JSON","parse","toString","map","entry","Url"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;;;AAEA;;;AAGe,MAAMA,cAAN,CAAqB;AAChC;;;;AAKA;;;;AAIAC,EAAAA,WAAW,CAACC,IAAD,EAAa;AACpB,SAAKA,IAAL,GAAYA,IAAZ;AACH;AAED;;;;;AAGAC,EAAAA,OAAO,GAAU;AACb,QAAIC,QAAQ,GAAG,gBAAK,KAAKF,IAAL,CAAUG,MAAV,CAAiBC,QAAtB,EAAgC,KAAKJ,IAAL,CAAUK,WAAV,EAAhC,EAAyD,MAAzD,EAAiE,WAAjE,CAAf;AACA,WAAOC,IAAI,CAACC,KAAL,CAAW,sBAAaL,QAAb,EAAuBM,QAAvB,EAAX,EAA8CC,GAA9C,CAAkDC,KAAK,IAAI,IAAIC,YAAJ,CAAQD,KAAR,CAA3D,CAAP;AACH;;AApB+B","sourcesContent":["// @flow\nimport {readFileSync} from 'fs';\nimport Url from '../Model/Url';\nimport Args from '../Model/Args';\nimport {join} from \"path\";\n\n/**\n * Retrieve all the urls for the domain.\n */\nexport default class UrlsRepository {\n    /**\n     * Args passed from the commandline.\n     */\n    args: Args;\n\n    /**\n     * Build the url repo.\n     * @param args {Args} passed from the commandline.\n     */\n    constructor(args: Args) {\n        this.args = args;\n    }\n\n    /**\n     * Find all urls.\n     */\n    findAll(): Url[] {\n        let urlsFile = join(this.args.output.filename, this.args.getSiteName(), 'urls', 'urls.json');\n        return JSON.parse(readFileSync(urlsFile).toString()).map(entry => new Url(entry));\n    }\n}\n"],"file":"UrlsRepository.js"}